"use strict";

var _react = _interopRequireDefault(require("react"));

var _reactTestingLibrary = require("react-testing-library");

var _index = _interopRequireDefault(require("../index"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/* eslint-disable comma-dangle */
jest.useFakeTimers();
describe('Tooltip', function () {
  afterEach(function () {
    (0, _reactTestingLibrary.cleanup)();
  });
  var targetContent = 'Hello world';
  var tipContent = 'Tip content';
  it('should render and open with hover', function () {
    var _render = (0, _reactTestingLibrary.render)(_react["default"].createElement(_index["default"], {
      content: tipContent
    }, targetContent)),
        getByText = _render.getByText;

    var target = getByText(targetContent);

    _reactTestingLibrary.fireEvent.mouseOver(target);

    jest.runAllTimers();
    getByText(tipContent);
  });
  it('should handle controlled state', function () {
    var _render2 = (0, _reactTestingLibrary.render)(_react["default"].createElement(_index["default"], {
      content: tipContent,
      isOpen: false
    }, targetContent)),
        getByText = _render2.getByText,
        rerender = _render2.rerender,
        queryByText = _render2.queryByText;

    var target = getByText(targetContent);

    _reactTestingLibrary.fireEvent.mouseOver(target);

    jest.runAllTimers();
    expect(queryByText(tipContent)).toBeNull();
    rerender(_react["default"].createElement(_index["default"], {
      content: tipContent,
      isOpen: true
    }, targetContent));
    getByText(tipContent);
  });
  it('should handle null as undefined for isOpen prop', function () {
    var _render3 = (0, _reactTestingLibrary.render)(_react["default"].createElement(_index["default"], {
      content: tipContent,
      isOpen: null
    }, targetContent)),
        getByText = _render3.getByText;

    var target = getByText(targetContent);

    _reactTestingLibrary.fireEvent.mouseOver(target);

    jest.runAllTimers();
    getByText(tipContent);
  });
  it('should handle eventOn prop and use mouseout', function () {
    var _render4 = (0, _reactTestingLibrary.render)(_react["default"].createElement(_index["default"], {
      content: tipContent,
      eventOn: "onClick"
    }, targetContent)),
        getByText = _render4.getByText;

    var target = getByText(targetContent);

    _reactTestingLibrary.fireEvent.click(target);

    jest.runAllTimers();
    getByText(tipContent);

    _reactTestingLibrary.fireEvent.mouseOut(target);

    jest.runAllTimers();
    expect(getByText(tipContent).style.transform).toEqual('translateX(-10000000px)');
  });
  it('should handle eventOff prop and use mouseover', function () {
    var _render5 = (0, _reactTestingLibrary.render)(_react["default"].createElement(_index["default"], {
      content: tipContent,
      eventOff: "onClick"
    }, targetContent)),
        getByText = _render5.getByText;

    var target = getByText(targetContent);

    _reactTestingLibrary.fireEvent.mouseOver(target);

    jest.runAllTimers();
    getByText(tipContent);

    _reactTestingLibrary.fireEvent.click(target);

    jest.runAllTimers();
    expect(getByText(tipContent).style.transform).toEqual('translateX(-10000000px)');
  });
  it('should handle eventToggle prop', function () {
    var _render6 = (0, _reactTestingLibrary.render)(_react["default"].createElement(_index["default"], {
      content: tipContent,
      eventToggle: "onClick"
    }, targetContent)),
        getByText = _render6.getByText,
        queryByText = _render6.queryByText;

    var target = getByText(targetContent);

    _reactTestingLibrary.fireEvent.mouseOver(target);

    jest.runAllTimers();
    expect(queryByText(tipContent)).toBeNull();

    _reactTestingLibrary.fireEvent.click(target);

    jest.runAllTimers();
    getByText(tipContent);

    _reactTestingLibrary.fireEvent.click(target);

    jest.runAllTimers();
    expect(getByText(tipContent).style.transform).toEqual('translateX(-10000000px)');
  });
});